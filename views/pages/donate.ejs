<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../partials/head.ejs') %>
    <link rel="stylesheet" href="/styles/css/donate.css">
    <title>Make a change by donating ❤️</title>
</head>
<body> 
    <%- include('../partials/loader.ejs') %>
    <%- include('../partials/navbar.ejs') %>
<br>
    <section class="donate-section">
        <div class="donate-container">
            <h1>Support our batch</h1>
            <p class="description">
              Keeping this site live costs money — from domain renewals to server uptime.
              Every small contribution helps us preserve these memories and keep our batch connected.
            </p>

            <div class="qr-box">
              <img class="qr-code" src="/images/donate-qr.png" alt="" srcset="">
              <p class="help-text">Scan the qr code to donate. </p>
              <p><a href="/images/donate-qr.png" download="2k17 Platform Donate QR.png"><span class="fal fa-download"></span> &nbsp;Download QR Code</a></p>
            </div>

            <button class="donate-btn" onclick="checkAndOpenUpiLink('upi://pay?pa=wadhaiujwal-2@oksbi&pn=2k17%20Platform&cu=INR')"><span class="fal fa-hand-holding-circle-dollar"></span> &nbsp; Donate Now</button>
        </div>
    </section>

  <%- include('../partials/footer') %>
<script>
  function checkAndOpenUpiLink(upiLink) {
    // Mobile check
    var isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

    if (!isMobile) {
      Toast("Please scan the QR code instead.", 'warning');
      return;
    }

    // Try to open UPI intent link
    var timeout = setTimeout(() => {
      Toast("Unable to open UPI app. Please scan the QR.", 'warning');
    }, 3000); // Fallback if user doesn't respond

    window.location.href = upiLink;

    // If user returns, clear timeout
    window.addEventListener("blur", () => clearTimeout(timeout));
  }
</script>

</body>
</html>